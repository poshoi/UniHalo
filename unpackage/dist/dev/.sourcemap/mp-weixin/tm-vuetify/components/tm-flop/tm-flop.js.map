{"version":3,"sources":["webpack:////Users/zgj/project/uni-halo-master/tm-vuetify/components/tm-flop/tm-flop.vue?7034","webpack:////Users/zgj/project/uni-halo-master/tm-vuetify/components/tm-flop/tm-flop.vue?bf46","webpack:////Users/zgj/project/uni-halo-master/tm-vuetify/components/tm-flop/tm-flop.vue?f82a","webpack:////Users/zgj/project/uni-halo-master/tm-vuetify/components/tm-flop/tm-flop.vue?14d9","uni-app:///tm-vuetify/components/tm-flop/tm-flop.vue"],"names":["name","components","tmTranslate","props","startVal","type","required","default","endVal","duration","autoplay","decimals","validator","decimal","separator","prefix","suffix","useEasing","isFrequent","frequentTime","data","localStartVal","displayValue","printVal","paused","localDuration","startTime","timestamp","remaining","rAF","timer","computed","countDown","watch","mounted","destroy","methods","easingFn","randomNum","start","pauseResume","pause","resume","reset","count","isNumber","formatNumber","num","x1","destroyed"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;;;AAGtD;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAq0B,CAAgB,qyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;ACuBz1B;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eACA;EACAA;EACAC;IACAC;EACA;EACAC;IACA;AACA;AACA;IACAC;MACAC;MACAC;MACAC;IACA;IACA;AACA;AACA;IACAC;MACAH;MACAC;MACAC;IACA;IACA;AACA;AACA;IACAE;MACAJ;MACAC;MACAC;IACA;IACA;AACA;AACA;IACAG;MACAL;MACAC;MACAC;IACA;IACA;AACA;AACA;IACAI;MACAN;MACAC;MACAC;MACAK;QACA;MACA;IACA;IACAC;MACAR;MACAC;MACAC;IACA;IACA;AACA;AACA;IACAO;MACAT;MACAC;MACAC;IACA;IACA;AACA;AACA;AACA;IACAQ;MACAV;MACAC;MACAC;IACA;IACA;AACA;AACA;AACA;IACAS;MACAX;MACAC;MACAC;IACA;IAEA;AACA;AACA;IACAU;MACAZ;MACAC;MACAC;IACA;IAEA;AACA;AACA;IACAW;MACAb;MACAC;MACAC;IACA;IACA;AACA;AACA;IACAY;MACAd;MACAC;MACAC;IACA;EACA;EACAa;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACA7B;MACA;QACA;MACA;IACA;IACAI;MACA;QACA;MACA;IACA;EACA;EACA0B;IAAA;IACA;MACA;IACA;IACA;MACA;QACA;MACA;IACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MAAA;MAAA;MAAA;MAAA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MAEA;IACA;IACAC;MACA;QACA;QACA;MACA;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MAEA;QACA;UACA;QACA;UACA;QACA;MACA;QACA;UACA;QACA;UACA;QACA;MACA;MACA;QACA;MACA;QACA;MACA;MAEA;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACAC;MACAA;MACA;MACA;MACA;MACA;MACA;QACA;UACAC;QACA;MACA;MACA;IACA;EACA;EACAC;IACA;IACA;EACA;AACA;AAAA,2B","file":"tm-vuetify/components/tm-flop/tm-flop.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./tm-flop.vue?vue&type=template&id=6a620cc5&\"\nvar renderjs\nimport script from \"./tm-flop.vue?vue&type=script&lang=js&\"\nexport * from \"./tm-flop.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"tm-vuetify/components/tm-flop/tm-flop.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tm-flop.vue?vue&type=template&id=6a620cc5&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (_vm.$scope.data.scopedSlotsCompiler === \"augmented\") {\n    _vm.$setScopedSlotsParams(\"default\", {\n      value: _vm.displayValue,\n    })\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tm-flop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./tm-flop.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"tm-flop vertical-align-middle d-inline-block \">\n\t\t<slot name=\"default\" :value=\"displayValue\">{{ displayValue }}</slot>\n\t</view>\n</template>\n\n<script>\n/**\n * 数字翻牌\n * @property {Number} startVal = [] 0,起始值\n * @property {Number} endVal = [] 0,最终值\n * @property {Number} duration = [] 3000,从起始值到结束值数字变动的时间\n * @property {Boolean} autoplay = [] true,是否自动播放\n * @property {Number} decimals = [] 0,保留的小数位数\n * @property {String} decimal = [] '.',小数点分割符号\n * @property {String} separator = [] ',',上了三位数分割的符号\n * @property {String} prefix = [] '',前缀\n * @property {String} suffix = [] '',后缀\n * @property {Boolean} isFrequent = [] false,是否隔一段时间数字跳动，这里的跳动是隔一段时间设置初始值\n * @property {Number} frequentTime = [] 5000,跳动间隔时间\n * 此库移植自：https://github.com/sitonlotus/vue-digital-flop\n */\nimport tmTranslate from '@/tm-vuetify/components/tm-translate/tm-translate.vue';\nimport { requestAnimationFrame, cancelAnimationFrame } from './requestAnimationFrame';\nexport default {\n\tname: 'tm-flop',\n\tcomponents: {\n\t\ttmTranslate\n\t},\n\tprops: {\n\t\t/**\n\t\t * @description 起始值\n\t\t */\n\t\tstartVal: {\n\t\t\ttype: Number,\n\t\t\trequired: false,\n\t\t\tdefault: 0\n\t\t},\n\t\t/**\n\t\t * @description 最终值\n\t\t */\n\t\tendVal: {\n\t\t\ttype: Number,\n\t\t\trequired: false,\n\t\t\tdefault: 2021\n\t\t},\n\t\t/**\n\t\t * @description 从起始值到结束值数字变动的时间\n\t\t */\n\t\tduration: {\n\t\t\ttype: Number,\n\t\t\trequired: false,\n\t\t\tdefault: 3000\n\t\t},\n\t\t/**\n\t\t * @description 是否自动播放\n\t\t */\n\t\tautoplay: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true\n\t\t},\n\t\t/**\n\t\t * @description 保留的小数位数\n\t\t */\n\t\tdecimals: {\n\t\t\ttype: Number,\n\t\t\trequired: false,\n\t\t\tdefault: 0,\n\t\t\tvalidator(value) {\n\t\t\t\treturn value >= 0;\n\t\t\t}\n\t\t},\n\t\tdecimal: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: '.'\n\t\t},\n\t\t/**\n\t\t * @description 三位三位的隔开效果\n\t\t */\n\t\tseparator: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: ','\n\t\t},\n\t\t/**\n\t\t * @description 前缀\n\t\t * @example '¥' 人民币前缀\n\t\t */\n\t\tprefix: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: ''\n\t\t},\n\t\t/**\n\t\t * @description 后缀\n\t\t * @example\n\t\t */\n\t\tsuffix: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: ''\n\t\t},\n\n\t\t/**\n\t\t * @description 是否具有连贯性\n\t\t */\n\t\tuseEasing: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true\n\t\t},\n\n\t\t/**\n\t\t * @description 是否隔一段时间数字跳动，这里的跳动是隔一段时间设置初始值\n\t\t */\n\t\tisFrequent: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false\n\t\t},\n\t\t/**\n\t\t * @description 跳动间隔时间\n\t\t */\n\t\tfrequentTime: {\n\t\t\ttype: Number,\n\t\t\trequired: false,\n\t\t\tdefault: 5000\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tlocalStartVal: this.startVal,\n\t\t\tdisplayValue: this.formatNumber(this.startVal),\n\t\t\tprintVal: null,\n\t\t\tpaused: false,\n\t\t\tlocalDuration: this.duration,\n\t\t\tstartTime: null,\n\t\t\ttimestamp: null,\n\t\t\tremaining: null,\n\t\t\trAF: null,\n\t\t\ttimer: null\n\t\t};\n\t},\n\tcomputed: {\n\t\tcountDown() {\n\t\t\treturn this.startVal > this.endVal;\n\t\t}\n\t},\n\twatch: {\n\t\tstartVal() {\n\t\t\tif (this.autoplay) {\n\t\t\t\tthis.start();\n\t\t\t}\n\t\t},\n\t\tendVal() {\n\t\t\tif (this.autoplay) {\n\t\t\t\tthis.start();\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n\t\tif (this.autoplay) {\n\t\t\tthis.start();\n\t\t}\n\t\tif (this.isFrequent && this.frequentTime) {\n\t\t\tthis.timer = setInterval(() => {\n\t\t\t\tthis.start(this.randomNum(0, this.endVal));\n\t\t\t}, this.frequentTime);\n\t\t}\n\t\tthis.$emit('mountedCallback');\n\t},\n\tdestroy(){\n\t\tthis.destroyed();\n\t},\n\tmethods: {\n\t\teasingFn(t = 0, b = 0, c = 0, d = 0) {\n\t\t\tlet p = (c * (-Math.pow(2, (-10 * t) / d) + 1) * 1024) / 1023 + b;\n\t\t\treturn p;\n\t\t},\n\t\trandomNum(a, b) {\n\t\t\treturn Math.round(Math.random() * (b - a) + a);\n\t\t},\n\t\tstart(startVal) {\n\t\t\tthis.localStartVal = startVal || this.startVal;\n\t\t\tthis.startTime = null;\n\t\t\tthis.localDuration = this.duration;\n\t\t\tthis.paused = false;\n\n\t\t\tthis.rAF = requestAnimationFrame(this.count);\n\t\t},\n\t\tpauseResume() {\n\t\t\tif (this.paused) {\n\t\t\t\tthis.resume();\n\t\t\t\tthis.paused = false;\n\t\t\t} else {\n\t\t\t\tthis.pause();\n\t\t\t\tthis.paused = true;\n\t\t\t}\n\t\t},\n\t\tpause() {\n\t\t\tcancelAnimationFrame(this.rAF);\n\t\t},\n\t\tresume() {\n\t\t\tthis.startTime = null;\n\t\t\tthis.localDuration = +this.remaining;\n\t\t\tthis.localStartVal = +this.printVal;\n\t\t\trequestAnimationFrame(this.count);\n\t\t},\n\t\treset() {\n\t\t\tthis.startTime = null;\n\t\t\tcancelAnimationFrame(this.rAF);\n\t\t\tthis.displayValue = this.formatNumber(this.startVal);\n\t\t},\n\t\tcount(timestamp) {\n\t\t\tif (!this.startTime) this.startTime = timestamp;\n\t\t\tthis.timestamp = timestamp;\n\t\t\tconst progress = timestamp - this.startTime;\n\t\t\tthis.remaining = this.localDuration - progress;\n\n\t\t\tif (this.useEasing) {\n\t\t\t\tif (this.countDown) {\n\t\t\t\t\tthis.printVal = this.localStartVal - this.easingFn(progress, 0, this.localStartVal - this.endVal, this.localDuration) || 0;\n\t\t\t\t} else {\n\t\t\t\t\tthis.printVal = this.easingFn(progress, this.localStartVal, this.endVal - this.localStartVal, this.localDuration);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (this.countDown) {\n\t\t\t\t\tthis.printVal = this.localStartVal - (this.localStartVal - this.endVal) * (progress / this.localDuration);\n\t\t\t\t} else {\n\t\t\t\t\tthis.printVal = this.localStartVal + (this.endVal - this.localStartVal) * (progress / this.localDuration);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.countDown) {\n\t\t\t\tthis.printVal = this.printVal < this.endVal ? this.endVal : this.printVal;\n\t\t\t} else {\n\t\t\t\tthis.printVal = this.printVal > this.endVal ? this.endVal : this.printVal;\n\t\t\t}\n\n\t\t\tthis.displayValue = this.formatNumber(this.printVal);\n\t\t\tif (progress < this.localDuration) {\n\t\t\t\tthis.rAF = requestAnimationFrame(this.count);\n\t\t\t} else {\n\t\t\t\tthis.$emit('callback');\n\t\t\t}\n\t\t},\n\t\tisNumber(val) {\n\t\t\treturn !isNaN(parseFloat(val));\n\t\t},\n\t\tformatNumber(num) {\n\t\t\tnum = num.toFixed(this.decimals);\n\t\t\tnum += '';\n\t\t\tconst x = num.split('.');\n\t\t\tlet x1 = x[0];\n\t\t\tconst x2 = x.length > 1 ? this.decimal + x[1] : '';\n\t\t\tconst rgx = /(\\d+)(\\d{3})/;\n\t\t\tif (this.separator && !this.isNumber(this.separator)) {\n\t\t\t\twhile (rgx.test(x1)) {\n\t\t\t\t\tx1 = x1.replace(rgx, '$1' + this.separator + '$2');\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this.prefix + x1 + x2 + this.suffix;\n\t\t}\n\t},\n\tdestroyed() {\n\t\tcancelAnimationFrame(this.rAF);\n\t\tthis.timer && clearInterval(this.timer);\n\t}\n};\n</script>\n\n<style></style>\n"],"sourceRoot":""}