<view class="app-page flex flex-col data-v-431c77e8"><view class="e-fixed shadow-2 bg-white data-v-431c77e8"><tm-search vue-id="2071830c-1" clear="{{true}}" round="{{24}}" shadow="{{0}}" confirmText="搜索" color="light-blue" insertColor="light-blue" align="center" value="{{queryParams.keyword}}" data-event-opts="{{[['^confirm',[['fnOnSearch']]],['^input',[['__set_model',['$0','keyword','$event',[]],['queryParams']]]]]}}" bind:confirm="__e" bind:input="__e" class="data-v-431c77e8" bind:__l="__l"></tm-search><block wx:if="{{$root.g0!=0}}"><tm-tabs vue-id="2071830c-2" color="light-blue" shadow="{{0}}" list="{{team.list}}" align="center" value="{{team.activeIndex}}" data-event-opts="{{[['^change',[['fnOnTabChange']]],['^input',[['__set_model',['$0','activeIndex','$event',[]],['team']]]]]}}" bind:change="__e" bind:input="__e" class="data-v-431c77e8" bind:__l="__l"></tm-tabs></block></view><block wx:if="{{$root.g1!=0}}"><view style="width:100vw;height:184rpx;" class="data-v-431c77e8"></view></block><block wx:else><view style="width:100vw;height:94rpx;" class="data-v-431c77e8"></view></block><block wx:if="{{loading!='success'}}"><view class="loading-wrap data-v-431c77e8"><block wx:if="{{loading=='loading'}}"><block class="data-v-431c77e8"><tm-skeleton vue-id="2071830c-3" model="card" class="data-v-431c77e8" bind:__l="__l"></tm-skeleton><tm-skeleton vue-id="2071830c-4" model="card" class="data-v-431c77e8" bind:__l="__l"></tm-skeleton><tm-skeleton vue-id="2071830c-5" model="card" class="data-v-431c77e8" bind:__l="__l"></tm-skeleton><tm-skeleton vue-id="2071830c-6" model="card" class="data-v-431c77e8" bind:__l="__l"></tm-skeleton></block></block><block wx:else><block wx:if="{{loading=='error'}}"><view class="loading-error flex flex-col flex-center data-v-431c77e8"><tm-empty vue-id="2071830c-7" icon="icon-wind-cry" label="加载失败" class="data-v-431c77e8" bind:__l="__l" vue-slots="{{['default']}}"><tm-button vue-id="{{('2071830c-8')+','+('2071830c-7')}}" theme="light-blue" size="m" data-event-opts="{{[['^click',[['fnGetData']]]]}}" bind:click="__e" class="data-v-431c77e8" bind:__l="__l" vue-slots="{{['default']}}">重新加载</tm-button></tm-empty></view></block></block></view></block><block wx:else><view class="page-content pa-24 flex flex-col data-v-431c77e8"><block wx:if="{{$root.g2==0}}"><view class="content-empty flex flex-center data-v-431c77e8"><tm-empty vue-id="2071830c-9" icon="icon-shiliangzhinengduixiang-" label="暂无任何图片" class="data-v-431c77e8" bind:__l="__l"></tm-empty></view></block><block wx:else><block class="data-v-431c77e8"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block class="data-v-431c77e8"><tm-translate vue-id="{{'2071830c-10-'+index}}" animation-name="fadeUp" wait="{{(index+1)*50}}" class="data-v-431c77e8" bind:__l="__l" vue-slots="{{['default']}}"><view class="card mb-24 flex flex-col bg-white pa-24 round-3 data-v-431c77e8"><view data-event-opts="{{[['tap',[['fnPreview',['$0',index],[[['dataList','',index]]]]]]]}}" class="thumbnail round-2 data-v-431c77e8" bindtap="__e"><image class="thumbnail-img round-2 data-v-431c77e8" src="{{item.$orig.showThumbnail}}" mode="aspectFill"></image></view><view class="info data-v-431c77e8"><view class=" mt-12 text-size-m text-grey-darken-1 data-v-431c77e8">{{"图片名称："+item.$orig.name}}</view><view class=" mt-12 text-size-m text-grey-darken-1 data-v-431c77e8">{{"图片分组："+(item.$orig.team||'未分组')}}</view><view class=" mt-8 text-size-m text-grey-darken-1 data-v-431c77e8">{{"拍摄日期："+item.f0}}</view><view class=" mt-12 text-size-m text-grey-darken-1 data-v-431c77e8">{{"拍摄地点："+(item.$orig.location||'未填写拍摄地点')}}</view></view><view class="flex flex-center pt-24 desc-box text-size-m data-v-431c77e8"><tm-button vue-id="{{('2071830c-11-'+index)+','+('2071830c-10-'+index)}}" theme="light-blue" shadow="{{0}}" block="{{true}}" width="{{300}}" height="{{70}}" data-event-opts="{{[['^click',[['fnEdit',['$0'],[[['dataList','',index]]]]]]]}}" bind:click="__e" class="data-v-431c77e8" bind:__l="__l" vue-slots="{{['default']}}">编辑</tm-button><tm-button class="ml-36 data-v-431c77e8" vue-id="{{('2071830c-12-'+index)+','+('2071830c-10-'+index)}}" theme="red" shadow="{{0}}" block="{{true}}" width="{{300}}" height="{{70}}" data-event-opts="{{[['^click',[['fnDelete',['$0',index],[[['dataList','',index]]]]]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}">删除</tm-button></view></view></tm-translate></block></block><tm-flotbutton vue-id="2071830c-13" offset="{{[16,80]}}" color="bg-gradient-light-blue-accent" size="m" icon="icon-angle-up" data-event-opts="{{[['^click',[['fnToTopPage']]]]}}" bind:click="__e" class="data-v-431c77e8" bind:__l="__l"></tm-flotbutton><view class="load-text  data-v-431c77e8">{{loadMoreText}}</view></block></block><tm-flotbutton vue-id="2071830c-14" show-text="{{true}}" color="bg-gradient-orange-accent" data-event-opts="{{[['^click',[['fnAdd']]]]}}" bind:click="__e" class="data-v-431c77e8" bind:__l="__l"></tm-flotbutton></view></block><tm-poup vue-id="2071830c-15" position="bottom" height="85vh" value="{{poupShow}}" data-event-opts="{{[['^change',[['fnOnPoupChange']]],['^input',[['__set_model',['','poupShow','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" class="data-v-431c77e8" bind:__l="__l" vue-slots="{{['default']}}"><view class="poup-content data-v-431c77e8"><view class="poup-head text-align-center text-weight-b text-size-g ma-24 data-v-431c77e8">{{form.id!=undefined?'编辑图片':'新增图片'}}</view><scroll-view class="poup-body pa-24 pt-0 pb-0 data-v-431c77e8" enable-flex="{{true}}" scroll-y="{{true}}" scroll-top="{{poupBodyScrollTop}}" data-event-opts="{{[['touchmove',[['',['$event']]]],['scroll',[['fnOnPoupBodyScroll',['$event']]]]]}}" catchtouchmove="__e" bindscroll="__e"><tm-input bind:input="__e" vue-id="{{('2071830c-16')+','+('2071830c-15')}}" adjust-position="{{true}}" round="{{3}}" clear="{{true}}" borderBottom="{{false}}" title="图片名称" bg-color="grey-lighten-5" placeholder="请输入图片名称" value="{{form.name}}" data-event-opts="{{[['^input',[['__set_model',['$0','name','$event',[]],['form']]]]]}}" class="data-v-431c77e8" bind:__l="__l"></tm-input><tm-input bind:input="__e" vue-id="{{('2071830c-17')+','+('2071830c-15')}}" name="team" adjust-position="{{true}}" round="{{3}}" bg-color="grey-lighten-5" borderBottom="{{false}}" title="图片分组" placeholder="请选择输入或分组" value="{{form.team}}" data-event-opts="{{[['^input',[['__set_model',['$0','team','$event',[]],['form']]]]]}}" class="data-v-431c77e8" bind:__l="__l" vue-slots="{{['rightBtn']}}"><tm-pickers vue-id="{{('2071830c-18')+','+('2071830c-17')}}" slot="rightBtn" rang-key="name" default-value="{{team.selected}}" list="{{team.selectList}}" data-event-opts="{{[['^updateDefaultValue',[['__set_sync',['$0','selected','$event'],['team']]]],['^updateDefaultValue',[['__set_sync',['$0','selected','$event'],['team']]]],['^confirm',[['fnOnSelectTeamConfirm']]]]}}" bind:updateDefaultValue="__e" bind:confirm="__e" class="data-v-431c77e8" bind:__l="__l" vue-slots="{{['default']}}"><tm-button vue-id="{{('2071830c-19')+','+('2071830c-18')}}" size="m" dense="{{true}}" shadow="{{0}}" theme="bg-gradient-light-blue-accent" class="data-v-431c77e8" bind:__l="__l" vue-slots="{{['default']}}">选择</tm-button></tm-pickers></tm-input><view class="pl-32 mb-24 input-tips text-grey text-size-s data-v-431c77e8">填写提示：图片分组可选择，也可以输入新的分组名称</view><tm-pickers-date vue-id="{{('2071830c-20')+','+('2071830c-15')}}" full-number="{{true}}" show-detail="{{({year:true,month:true,day:true,hour:true,min:true,sec:true})}}" default-value="{{takeTime}}" data-event-opts="{{[['^confirm',[['fnOnTakeTimeConfirm']]]]}}" bind:confirm="__e" class="data-v-431c77e8" bind:__l="__l" vue-slots="{{['default']}}"><tm-input vue-id="{{('2071830c-21')+','+('2071830c-20')}}" title="拍摄时间" adjust-position="{{true}}" round="{{3}}" bg-color="grey-lighten-5" borderBottom="{{false}}" placeholder="请选择拍摄时间" disabled="{{true}}" value="{{takeTime}}" class="data-v-431c77e8" bind:__l="__l"></tm-input></tm-pickers-date><tm-input bind:input="__e" vue-id="{{('2071830c-22')+','+('2071830c-15')}}" borderBottom="{{false}}" adjust-position="{{true}}" round="{{3}}" clear="{{true}}" title="拍摄地点" bg-color="grey-lighten-5" placeholder="请输入拍摄地点" value="{{form.location}}" data-event-opts="{{[['^input',[['__set_model',['$0','location','$event',[]],['form']]]]]}}" class="data-v-431c77e8" bind:__l="__l"></tm-input><tm-input bind:input="__e" vue-id="{{('2071830c-23')+','+('2071830c-15')}}" borderBottom="{{false}}" vertical="{{false}}" clear="{{true}}" adjust-position="{{true}}" inputType="textarea" round="{{3}}" title="图片描述" height="{{160}}" bg-color="grey-lighten-5" placeholder="请输入图片描述" value="{{form.description}}" data-event-opts="{{[['^input',[['__set_model',['$0','description','$event',[]],['form']]]]]}}" class="data-v-431c77e8" bind:__l="__l"></tm-input><tm-input vue-id="{{('2071830c-24')+','+('2071830c-15')}}" name="url" clear="{{true}}" borderBottom="{{false}}" adjust-position="{{true}}" round="{{3}}" title="图片地址" bg-color="grey-lighten-5" placeholder="请输入或选择图片" value="{{form.url}}" data-event-opts="{{[['^clear',[['fnOnUrlInputChange']]],['^blur',[['fnOnUrlInputChange']]],['^input',[['__set_model',['$0','url','$event',[]],['form']],['fnOnUrlInputChange']]]]}}" bind:clear="__e" bind:blur="__e" bind:input="__e" class="data-v-431c77e8" bind:__l="__l" vue-slots="{{['rightBtn']}}"><tm-button vue-id="{{('2071830c-25')+','+('2071830c-24')}}" slot="rightBtn" size="m" dense="{{true}}" shadow="{{0}}" theme="bg-gradient-light-blue-accent" data-event-opts="{{[['^click',[['fnShowAttachmentsSelect',['url']]]]]}}" bind:click="__e" class="data-v-431c77e8" bind:__l="__l" vue-slots="{{['default']}}">选择</tm-button></tm-input><tm-input bind:input="__e" vue-id="{{('2071830c-26')+','+('2071830c-15')}}" name="thumbnail" borderBottom="{{false}}" adjust-position="{{true}}" round="{{3}}" clear="{{true}}" title="缩略图片" bg-color="grey-lighten-5" placeholder="请输入或选择缩略图" value="{{form.thumbnail}}" data-event-opts="{{[['^input',[['__set_model',['$0','thumbnail','$event',[]],['form']]]]]}}" class="data-v-431c77e8" bind:__l="__l" vue-slots="{{['rightBtn']}}"><tm-button vue-id="{{('2071830c-27')+','+('2071830c-26')}}" slot="rightBtn" size="m" dense="{{true}}" shadow="{{0}}" theme="bg-gradient-light-blue-accent" data-event-opts="{{[['^click',[['fnShowAttachmentsSelect',['thumbnail']]]]]}}" bind:click="__e" class="data-v-431c77e8" bind:__l="__l" vue-slots="{{['default']}}">选择</tm-button></tm-input><view class="ma-30 mt-12 pb-12 data-v-431c77e8"><view class="mb-12 data-v-431c77e8"><text class="text-size-m data-v-431c77e8">图片预览</text></view><image src="{{form.showThumbnail}}" mode="aspectFit" class="data-v-431c77e8"></image></view></scroll-view><view class="btn-wrap flex flex-center bg-white data-v-431c77e8"><tm-button vue-id="{{('2071830c-28')+','+('2071830c-15')}}" width="{{300}}" height="{{72}}" theme="bg-gradient-blue-accent" data-event-opts="{{[['^click',[['fnSave']]]]}}" bind:click="__e" class="data-v-431c77e8" bind:__l="__l" vue-slots="{{['default']}}">保存</tm-button><tm-button vue-id="{{('2071830c-29')+','+('2071830c-15')}}" width="{{300}}" height="{{72}}" theme="bg-gradient-blue-grey-accent" data-event-opts="{{[['^click',[['e0']]]]}}" bind:click="__e" class="data-v-431c77e8" bind:__l="__l" vue-slots="{{['default']}}">关 闭</tm-button></view></view></tm-poup><block wx:if="{{attachmentsSelectShow}}"><attachment-select vue-id="2071830c-30" selectType="image" data-event-opts="{{[['^onSelect',[['fnOnAttachmentsSelect']]],['^onClose',[['fnOnAttachmentsSelectClose']]]]}}" bind:onSelect="__e" bind:onClose="__e" class="data-v-431c77e8" bind:__l="__l"></attachment-select></block></view>