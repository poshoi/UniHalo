<view class="app-page data-v-815e452a"><block wx:if="{{loading!='success'}}"><view class="loading-wrap data-v-815e452a"><tm-skeleton vue-id="2acb50fb-1" model="card" class="data-v-815e452a" bind:__l="__l"></tm-skeleton><tm-skeleton vue-id="2acb50fb-2" model="card" class="data-v-815e452a" bind:__l="__l"></tm-skeleton><tm-skeleton vue-id="2acb50fb-3" model="card" class="data-v-815e452a" bind:__l="__l"></tm-skeleton></view></block><block wx:else><block class="data-v-815e452a"><view class="head ma-24 data-v-815e452a"><view class="title data-v-815e452a">{{result.title}}</view><view class="detail data-v-815e452a"><view class="author data-v-815e452a"><text class="author-name data-v-815e452a">{{"博主："+author.nickname}}</text><text class="author-time data-v-815e452a">{{"时间："+$root.f0}}</text></view><block wx:if="{{result.thumbnail}}"><view class="cover data-v-815e452a"><image class="cover-img data-v-815e452a" mode="aspectFill" src="{{$root.m0}}"></image></view></block><view class="{{['count','data-v-815e452a',(!result.thumbnail)?'no-thumbnail':'']}}"><view class="count-item data-v-815e452a"><text class="value data-v-815e452a">{{result.visits}}</text><text class="label data-v-815e452a">阅读</text></view><view class="count-item data-v-815e452a"><text class="value data-v-815e452a">{{result.likes}}</text><text class="label data-v-815e452a">喜欢</text></view><view class="count-item data-v-815e452a"><text class="value data-v-815e452a">{{result.commentCount}}</text><text class="label data-v-815e452a">评论</text></view><view class="count-item data-v-815e452a"><text class="value data-v-815e452a">{{result.wordCount}}</text><text class="label data-v-815e452a">字数</text></view></view></view></view><view class="category data-v-815e452a"><view class="category-type data-v-815e452a"><text class="text-weight-b data-v-815e452a">分类：</text><block wx:if="{{$root.g0==0}}"><text class="category-tag is-empty data-v-815e452a">未选择分类</text></block><block wx:else><block class="data-v-815e452a"><block wx:for="{{result.categories}}" wx:for-item="item" wx:for-index="index" wx:key="index"><text data-event-opts="{{[['tap',[['fnToCate',['$0'],[[['result.categories','',index]]]]]]]}}" class="category-tag data-v-815e452a" bindtap="__e">{{item.name}}</text></block></block></block></view><view class="mt-18 category-type data-v-815e452a"><text class="text-weight-b data-v-815e452a">标签：</text><block wx:if="{{$root.g1==0}}"><text class="category-tag is-empty data-v-815e452a">未选择标签</text></block><block wx:else><block class="data-v-815e452a"><block wx:for="{{result.tags}}" wx:for-item="item" wx:for-index="index" wx:key="index"><text data-event-opts="{{[['tap',[['fnToTag',['$0'],[[['result.tags','',index]]]]]]]}}" class="category-tag data-v-815e452a" style="{{'background-color:'+(item.color)+';'}}" bindtap="__e">{{''+item.name+''}}</text></block></block></block></view></view><block wx:if="{{haloAdConfig.articleDetail.use}}"><view class="ad-wrap ma-24 mb-0 data-v-815e452a"><block wx:if="{{haloAdConfig.unitId}}"><ad unit-id="{{haloAdConfig.unitId}}" class="data-v-815e452a"></ad></block></view></block><view class="content ml-24 mr-24 data-v-815e452a"><mp-html class="evan-markdown data-v-815e452a" vue-id="2acb50fb-4" lazy-load="{{true}}" domain="{{markdownConfig.domain}}" loading-img="{{markdownConfig.loadingGif}}" scroll-table="{{true}}" selectable="{{true}}" tag-style="{{markdownConfig.tagStyle}}" container-style="{{markdownConfig.containStyle}}" content="{{result.content}}" markdown="{{true}}" showLineNumber="{{true}}" showLanguageName="{{true}}" copyByLongPress="{{true}}" bind:__l="__l"></mp-html><block wx:if="{{haloAdConfig.articleDetail.use}}"><view class="ad-wrap mt-24 mb-24  data-v-815e452a"><block wx:if="{{haloAdConfig.unitId}}"><ad unit-id="{{haloAdConfig.unitId}}" class="data-v-815e452a"></ad></block></view></block><block wx:if="{{haloAdConfig.articleDetail.custom.use}}"><view class="ad-card data-v-815e452a"><text class="ad-card_tip data-v-815e452a">广告</text><image class="ad-card_cover data-v-815e452a" src="{{haloAdConfig.articleDetail.custom.cover}}" mode="scaleToFill"></image><view class="ad-card_info data-v-815e452a"><view class="ad-card_info-title data-v-815e452a">{{haloAdConfig.articleDetail.custom.title}}</view><view class="ad-card_info-desc data-v-815e452a">{{haloAdConfig.articleDetail.custom.content}}</view><block wx:if="{{haloAdConfig.articleDetail.custom.url}}"><view data-event-opts="{{[['tap',[['fnToWebview',['$0'],['haloAdConfig.articleDetail.custom']]]]]}}" class="ad-card_info-link data-v-815e452a" bindtap="__e">立即查看</view></block></view></view></block><block wx:if="{{copyright.use}}"><view class="copyright-wrap bg-white mt-24 pa-24 round-4 data-v-815e452a"><view class="copyright-title text-weight-b data-v-815e452a">版权声明</view><view class="copyright-content mt-12  grey-lighten-5 text-grey-darken-2 round-4 pt-12 pb-12 pl-24 pr-24  data-v-815e452a"><block wx:if="{{copyright.author}}"><view class="copyright-text text-size-s  data-v-815e452a">{{"版权归属："+copyright.author}}</view></block><block wx:if="{{copyright.description}}"><view class="copyright-text text-size-s mt-12 data-v-815e452a">{{"版权说明："+copyright.description}}</view></block><block wx:if="{{copyright.violation}}"><view class="copyright-text text-size-s mt-12 text-red data-v-815e452a">{{"侵权处理："+copyright.violation}}</view></block></view></view></block><view class="comment-wrap bg-white mt-24 pa-24 round-4 data-v-815e452a"><comment-list vue-id="2acb50fb-5" disallowComment="{{result.disallowComment}}" postId="{{result.id}}" post="{{result}}" data-event-opts="{{[['^onCommentDetail',[['fnOnShowCommentDetail']]],['^onLoaded',[['fnOnCommentLoaded']]]]}}" bind:onCommentDetail="__e" bind:onLoaded="__e" class="data-v-815e452a" bind:__l="__l"></comment-list></view></view><barrage vue-id="2acb50fb-6" maxTop="{{240}}" type="{{globalAppSettings.barrage.type}}" data-ref="barrage" class="data-v-815e452a vue-ref" bind:__l="__l"></barrage><tm-flotbutton vue-id="2acb50fb-7" offset="{{[16,80]}}" icon="icon-angle-up" color="bg-gradient-light-blue-accent" data-event-opts="{{[['^click',[['fnToTopPage']]]]}}" bind:click="__e" class="data-v-815e452a" bind:__l="__l"></tm-flotbutton><tm-flotbutton vue-id="2acb50fb-8" actions="{{btnOption.actions}}" actions-pos="left" show-text="{{true}}" color="bg-gradient-orange-accent" data-event-opts="{{[['^change',[['fnOnFlotButtonChange']]]]}}" bind:change="__e" class="data-v-815e452a" bind:__l="__l"></tm-flotbutton></block></block><tm-poup bind:input="__e" vue-id="2acb50fb-9" height="auto" round="{{6}}" over-close="{{true}}" position="bottom" value="{{commentDetail.show}}" data-event-opts="{{[['^input',[['__set_model',['$0','show','$event',[]],['commentDetail']]]]]}}" class="data-v-815e452a" bind:__l="__l" vue-slots="{{['default']}}"><view class="pa-24 data-v-815e452a"><view class="poup-head pb-24 data-v-815e452a"><view class="poup-title text-align-center text-size-g text-weight-b mb-32 data-v-815e452a">评论详情</view><comment-item vue-id="{{('2acb50fb-10')+','+('2acb50fb-9')}}" useContentBg="{{false}}" useActions="{{false}}" isChild="{{false}}" comment="{{commentDetail.comment}}" postId="{{result.id}}" class="data-v-815e452a" bind:__l="__l"></comment-item></view><scroll-view class="poup-body data-v-815e452a" scroll-y="{{true}}"><block wx:if="{{commentDetail.loading!='success'}}"><view class="poup-loading-wrap flex flex-center data-v-815e452a"><block wx:if="{{commentDetail.loading=='loading'}}"><view class="loading flex flex-center flex-col data-v-815e452a"><text class="e-loading-icon iconfont icon-loading text-blue data-v-815e452a"></text><view class="text-size-n text-grey-lighten-1 py-12 mt-12 data-v-815e452a">加载中，请稍等...</view></view></block><block wx:else><block wx:if="{{commentDetail.loading=='error'}}"><view class="error data-v-815e452a"><tm-empty vue-id="{{('2acb50fb-11')+','+('2acb50fb-9')}}" icon="icon-wind-cry" label="加载失败" class="data-v-815e452a" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{!disallowComment}}"><tm-button vue-id="{{('2acb50fb-12')+','+('2acb50fb-11')}}" theme="bg-gradient-light-blue-accent" size="m" data-event-opts="{{[['^click',[['fnGetChildComments']]]]}}" bind:click="__e" class="data-v-815e452a" bind:__l="__l" vue-slots="{{['default']}}">刷新试试</tm-button></block></tm-empty></view></block></block></view></block><block wx:else><block class="data-v-815e452a"><block wx:if="{{$root.g2==0}}"><view class="poup-empty flex flex-center data-v-815e452a"><tm-empty vue-id="{{('2acb50fb-13')+','+('2acb50fb-9')}}" icon="icon-shiliangzhinengduixiang-" label="没有更多评论啦~" class="data-v-815e452a" bind:__l="__l"></tm-empty></view></block><block wx:else><block class="data-v-815e452a"><block wx:for="{{commentDetail.list}}" wx:for-item="comment" wx:for-index="index" wx:key="index"><comment-item vue-id="{{('2acb50fb-14-'+index)+','+('2acb50fb-9')}}" useContentBg="{{false}}" useSolid="{{false}}" useActions="{{false}}" isChild="{{false}}" comment="{{comment}}" postId="{{result.id}}" class="data-v-815e452a" bind:__l="__l"></comment-item></block></block></block></block></block></scroll-view></view></tm-poup><tm-poup bind:input="__e" vue-id="2acb50fb-15" width="90vw" height="auto" round="{{6}}" over-close="{{true}}" position="center" value="{{poster.show}}" data-event-opts="{{[['^input',[['__set_model',['$0','show','$event',[]],['poster']]]]]}}" class="data-v-815e452a" bind:__l="__l" vue-slots="{{['default']}}"><view class="poster-content pt-12 bg-white data-v-815e452a"><block wx:if="{{poster.loading}}"><view class="poster-loading flex flex-center text-grey-darken-1 data-v-815e452a"><text class="e-loading-icon iconfont icon-loading data-v-815e452a"></text><text class="ml-6 data-v-815e452a">海报正在生成...</text></view></block><block wx:if="{{poster.showCanvas}}"><block class="data-v-815e452a"><r-canvas vue-id="{{('2acb50fb-16')+','+('2acb50fb-15')}}" data-ref="rCanvas" class="data-v-815e452a vue-ref" bind:__l="__l"></r-canvas><view class="poster-save ma-24 mt-0 pt-20 flex flex-center data-v-815e452a"><tm-button vue-id="{{('2acb50fb-17')+','+('2acb50fb-15')}}" theme="bg-gradient-light-blue-accent" size="m" data-event-opts="{{[['^click',[['fnSavePoster']]]]}}" bind:click="__e" class="data-v-815e452a" bind:__l="__l" vue-slots="{{['default']}}">保存到相册</tm-button><block wx:if="{{false}}"><tm-button vue-id="{{('2acb50fb-18')+','+('2acb50fb-15')}}" theme="bg-gradient-orange-accent" size="m" data-event-opts="{{[['^click',[['fnShareTo']]]]}}" bind:click="__e" class="data-v-815e452a" bind:__l="__l" vue-slots="{{['default']}}">分享给好友</tm-button></block><tm-button vue-id="{{('2acb50fb-19')+','+('2acb50fb-15')}}" theme="bg-gradient-blue-grey-accent" size="m" data-event-opts="{{[['^click',[['fnOnPosterClose']]]]}}" bind:click="__e" class="data-v-815e452a" bind:__l="__l" vue-slots="{{['default']}}">关 闭</tm-button></view></block></block></view></tm-poup></view>