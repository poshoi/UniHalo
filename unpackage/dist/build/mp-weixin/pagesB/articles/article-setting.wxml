<view class="{{['app-page','data-v-fb39b5ca',(isBlackTheme)?'is-balck grey-darken-6':'']}}"><view class="e-fixed shadow-2 data-v-fb39b5ca"><tm-tabs bind:input="__e" vue-id="04b598cc-1" color="light-blue" shadow="{{0}}" list="{{tab.list}}" align="center" value="{{tab.activeIndex}}" data-event-opts="{{[['^input',[['__set_model',['$0','activeIndex','$event',[]],['tab']]]]]}}" class="data-v-fb39b5ca" bind:__l="__l"></tm-tabs></view><view style="width:100vw;height:90rpx;" class="data-v-fb39b5ca"></view><block wx:if="{{loading!='success'}}"><view class="pa-24 data-v-fb39b5ca"><block wx:if="{{loading=='loading'}}"><block class="data-v-fb39b5ca"><tm-skeleton vue-id="04b598cc-2" model="list" class="data-v-fb39b5ca" bind:__l="__l"></tm-skeleton><tm-skeleton vue-id="04b598cc-3" model="list" class="data-v-fb39b5ca" bind:__l="__l"></tm-skeleton><tm-skeleton vue-id="04b598cc-4" model="list" class="data-v-fb39b5ca" bind:__l="__l"></tm-skeleton><tm-skeleton vue-id="04b598cc-5" model="list" class="data-v-fb39b5ca" bind:__l="__l"></tm-skeleton></block></block><block wx:else><view class="flex flex-center data-v-fb39b5ca" style="height:60vh;"><tm-empty vue-id="04b598cc-6" color="blue" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}"><tm-button vue-id="{{('04b598cc-7')+','+('04b598cc-6')}}" theme="blue" data-event-opts="{{[['^click',[['fnGetSettings']]]]}}" bind:click="__e" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}">刷新试试</tm-button></tm-empty></view></block></view></block><block wx:else><view class="app-page-content ma-24 bg-white round-3  data-v-fb39b5ca"><tm-form vue-id="04b598cc-8" data-ref="formData" class="data-v-fb39b5ca vue-ref" bind:__l="__l" vue-slots="{{['default']}}"><view hidden="{{!(tab.activeIndex==0)}}" class="data-v-fb39b5ca"><tm-input bind:input="__e" vue-id="{{('04b598cc-9')+','+('04b598cc-8')}}" name="title" required="{{true}}" title="文章标题" placeholder="请输入文章标题..." value="{{article.title}}" data-event-opts="{{[['^input',[['__set_model',['$0','title','$event',[]],['article']]]]]}}" class="data-v-fb39b5ca" bind:__l="__l"></tm-input><tm-input bind:input="__e" vue-id="{{('04b598cc-10')+','+('04b598cc-8')}}" name="slug" required="{{true}}" title="文章别名" placeholder="请输入文章别名..." value="{{article.slug}}" data-event-opts="{{[['^input',[['__set_model',['$0','slug','$event',[]],['article']]]]]}}" class="data-v-fb39b5ca" bind:__l="__l"></tm-input><tm-pickers vue-id="{{('04b598cc-11')+','+('04b598cc-8')}}" title="选择文章的状态" btn-color="light-blue" default-value="{{articleStatus.status}}" rang-key="name" list="{{articleStatus.list}}" data-event-opts="{{[['^updateDefaultValue',[['__set_sync',['$0','status','$event'],['articleStatus']]]],['^updateDefaultValue',[['__set_sync',['$0','status','$event'],['articleStatus']]]],['^confirm',[['fnOnArticleStatusConfirm']]]]}}" bind:updateDefaultValue="__e" bind:confirm="__e" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}"><tm-input vue-id="{{('04b598cc-12')+','+('04b598cc-11')}}" name="status" required="{{true}}" title="文章状态" placeholder="请选择文章状态" disabled="{{true}}" value="{{articleStatus.selectText}}" right-icon="icon-angle-right" class="data-v-fb39b5ca" bind:__l="__l"></tm-input></tm-pickers><block wx:if="{{articleStatus.selectValue=='INTIMATE'}}"><tm-input bind:input="__e" vue-id="{{('04b598cc-13')+','+('04b598cc-8')}}" name="password" password="{{true}}" required="{{true}}" title="文章密码" placeholder="请输入密码..." value="{{article.password}}" data-event-opts="{{[['^input',[['__set_model',['$0','password','$event',[]],['article']]]]]}}" class="data-v-fb39b5ca" bind:__l="__l"></tm-input></block><block wx:if="{{articleStatus.selectValue=='INTIMATE'}}"><view class="pl-32 mt-12 mb-24 input-tips text-grey text-size-s data-v-fb39b5ca">填写提示：文章状态为【私有】的时候需要填写密码。</view></block><view class="mx-32 my-24 pb-24 border-b-1 data-v-fb39b5ca"><view class="text-size-m required flex-between data-v-fb39b5ca"><text class="data-v-fb39b5ca">选择分类</text><tm-button vue-id="{{('04b598cc-14')+','+('04b598cc-8')}}" size="xs" theme="light-blue" fab="{{true}}" shadow="{{0}}" icon="icon-plus" data-event-opts="{{[['^click',[['e0']]]]}}" bind:click="__e" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}">新增</tm-button></view><view class="data-v-fb39b5ca"><tm-groupcheckbox vue-id="{{('04b598cc-15')+','+('04b598cc-8')}}" name="categoryIds" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{categories}}" wx:for-item="item" wx:for-index="index" wx:key="index"><tm-checkbox bind:input="__e" vue-id="{{('04b598cc-16-'+index)+','+('04b598cc-15')}}" dense="{{true}}" name="{{item.id}}" value="{{item.checked}}" data-event-opts="{{[['^input',[['__set_model',['$0','checked','$event',[]],[[['categories','',index]]]]]]]}}" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}"><tm-button vue-id="{{('04b598cc-17-'+index)+','+('04b598cc-16-'+index)}}" flat="{{true}}" size="s" theme="{{item.checked?'light-blue':'grey-lighten-4'}}" plan="{{true}}" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}"><block>{{item.name}}</block></tm-button></tm-checkbox></block></tm-groupcheckbox></view></view><view class="mx-32 my-24 pb-24 data-v-fb39b5ca"><view class="text-size-m required flex-between data-v-fb39b5ca"><text class="data-v-fb39b5ca">选择标签</text><tm-button vue-id="{{('04b598cc-18')+','+('04b598cc-8')}}" size="xs" theme="light-blue" fab="{{true}}" shadow="{{0}}" icon="icon-plus" data-event-opts="{{[['^click',[['e1']]]]}}" bind:click="__e" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}">新增</tm-button></view><view class="data-v-fb39b5ca"><tm-groupcheckbox vue-id="{{('04b598cc-19')+','+('04b598cc-8')}}" name="tagIds" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{tags}}" wx:for-item="item" wx:for-index="index" wx:key="index"><tm-checkbox bind:input="__e" vue-id="{{('04b598cc-20-'+index)+','+('04b598cc-19')}}" dense="{{true}}" name="{{item.id}}" value="{{item.checked}}" data-event-opts="{{[['^input',[['__set_model',['$0','checked','$event',[]],[[['tags','',index]]]]]]]}}" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}"><tm-button vue-id="{{('04b598cc-21-'+index)+','+('04b598cc-20-'+index)}}" flat="{{true}}" size="s" theme="{{item.checked?'light-blue':'grey-lighten-4'}}" plan="{{true}}" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}"><block>{{item.name}}</block></tm-button></tm-checkbox></block></tm-groupcheckbox></view></view></view><view hidden="{{!(tab.activeIndex==1)}}" class="pt-6 data-v-fb39b5ca"><view class="mx-32 my-24 border-b-1  pb-24 flex-between data-v-fb39b5ca"><text class="text-size-m  data-v-fb39b5ca">禁止评论</text><tm-switch bind:input="__e" vue-id="{{('04b598cc-22')+','+('04b598cc-8')}}" color="light-blue" text="{{['是','否']}}" value="{{article.disallowComment}}" data-event-opts="{{[['^input',[['__set_model',['$0','disallowComment','$event',[]],['article']]]]]}}" class="data-v-fb39b5ca" bind:__l="__l"></tm-switch></view><view class="mx-32 my-24 border-b-1  pb-24 flex-between data-v-fb39b5ca"><text class="text-size-m  data-v-fb39b5ca">是否置顶</text><tm-switch bind:input="__e" vue-id="{{('04b598cc-23')+','+('04b598cc-8')}}" color="light-blue" text="{{['是','否']}}" value="{{topPriority}}" data-event-opts="{{[['^input',[['__set_model',['','topPriority','$event',[]]]]]]}}" class="data-v-fb39b5ca" bind:__l="__l"></tm-switch></view><tm-pickers-date vue-id="{{('04b598cc-24')+','+('04b598cc-8')}}" default-value="{{createTime}}" show-detail="{{({year:true,month:true,day:true,hour:false,min:false,sec:false})}}" data-event-opts="{{[['^confirm',[['fnOnConfirmPublishTime']]]]}}" bind:confirm="__e" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}"><tm-input vue-id="{{('04b598cc-25')+','+('04b598cc-24')}}" name="createTime" title="发表时间" placeholder="请选择发表时间" disabled="{{true}}" value="{{createTime}}" right-icon="icon-angle-right" class="data-v-fb39b5ca" bind:__l="__l"></tm-input></tm-pickers-date><tm-input bind:input="__e" vue-id="{{('04b598cc-26')+','+('04b598cc-8')}}" vertical="{{true}}" height="{{150}}" input-type="textarea" bg-color="grey-lighten-5" maxlength="{{200}}" title=" 文章摘要" placeholder="如不填写，会从文章中自动截取" value="{{article.summary}}" data-event-opts="{{[['^input',[['__set_model',['$0','summary','$event',[]],['article']]]]]}}" class="data-v-fb39b5ca" bind:__l="__l"></tm-input><view class="ma-30 mt-12 pb-12 data-v-fb39b5ca"><view class="mb-12 data-v-fb39b5ca"><text class="text-size-m data-v-fb39b5ca">封面图</text><text class="text-grey text-size-s data-v-fb39b5ca">（点击下方图片区域选择封面）</text></view><block wx:if="{{article.showThumbnail}}"><image class="thumbnail round-3 data-v-fb39b5ca" src="{{article.showThumbnail}}" mode="aspectFill" data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" bindtap="__e"></image></block><block wx:else><view data-event-opts="{{[['tap',[['e3',['$event']]]]]}}" class="thumbnail round-3 text-grey grey-lighten-5 flex flex-col flex-center  data-v-fb39b5ca" bindtap="__e"><text class="iconfont icon-picture data-v-fb39b5ca" style="font-size:46rpx;"></text><text class="mt-12 text-size-m data-v-fb39b5ca">选择文章封面图</text></view></block></view></view><view hidden="{{!(tab.activeIndex==2)}}" class="pt-12 data-v-fb39b5ca"><tm-input bind:input="__e" vue-id="{{('04b598cc-27')+','+('04b598cc-8')}}" vertical="{{true}}" height="{{150}}" input-type="textarea" bg-color="grey-lighten-5" maxlength="{{200}}" title="自定义关键字" placeholder="多个关键词以英文逗号隔开，如不填写，将自动使用标签作为关键词" value="{{article.metaKeywords}}" data-event-opts="{{[['^input',[['__set_model',['$0','metaKeywords','$event',[]],['article']]]]]}}" class="data-v-fb39b5ca" bind:__l="__l"></tm-input><tm-input bind:input="__e" vue-id="{{('04b598cc-28')+','+('04b598cc-8')}}" vertical="{{true}}" height="{{200}}" borderBottom="{{false}}" input-type="textarea" bg-color="grey-lighten-5" maxlength="{{200}}" title="自定义描述" placeholder="如不填写，会从文章中自动截取" value="{{article.metaDescription}}" data-event-opts="{{[['^input',[['__set_model',['$0','metaDescription','$event',[]],['article']]]]]}}" class="data-v-fb39b5ca" bind:__l="__l"></tm-input></view></tm-form><view class="btn-bar flex flex-center bg-white data-v-fb39b5ca"><tm-button vue-id="04b598cc-29" theme="blue" shadow="{{0}}" block="{{true}}" height="{{70}}" data-event-opts="{{[['^click',[['fnOnSave',[false,false]]]]]}}" bind:click="__e" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}">立即保存</tm-button><block wx:if="{{isEdit}}"><tm-button vue-id="04b598cc-30" theme="light-blue" shadow="{{0}}" block="{{true}}" height="{{70}}" data-event-opts="{{[['^click',[['fnOnSave',[false,true]]]]]}}" bind:click="__e" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}">保存并返回</tm-button></block><tm-button vue-id="04b598cc-31" theme="blue-grey" shadow="{{0}}" block="{{true}}" height="{{70}}" data-event-opts="{{[['^click',[['fnOnBack']]]]}}" bind:click="__e" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}">{{from=='list'?'返回列表':'返回编辑'}}</tm-button></view><block wx:if="{{attachmentsSelectShow}}"><attachment-select vue-id="04b598cc-32" selectType="image" data-event-opts="{{[['^onSelect',[['fnOnAttachmentsSelect']]],['^onClose',[['e4']]]]}}" bind:onSelect="__e" bind:onClose="__e" class="data-v-fb39b5ca" bind:__l="__l"></attachment-select></block><tm-poup vue-id="04b598cc-33" position="bottom" height="45vh" value="{{catePoupShow}}" data-event-opts="{{[['^change',[['fnOnCatePoupChange']]],['^input',[['__set_model',['','catePoupShow','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}"><view class="poup-content data-v-fb39b5ca"><view class="poup-head text-align-center text-weight-b text-size-g ma-24 data-v-fb39b5ca">新增分类</view><scroll-view class="poup-body pa-24 pt-0 data-v-fb39b5ca" style="height:28vh;" scroll-y="{{true}}" data-event-opts="{{[['touchmove',[['',['$event']]]]]}}" catchtouchmove="__e"><tm-input bind:input="__e" vue-id="{{('04b598cc-34')+','+('04b598cc-33')}}" required="{{true}}" adjust-position="{{true}}" round="{{3}}" borderBottom="{{false}}" title="名称" bg-color="grey-lighten-5" placeholder="请输入分类名称" value="{{cateForm.name}}" data-event-opts="{{[['^input',[['__set_model',['$0','name','$event',[]],['cateForm']]]]]}}" class="data-v-fb39b5ca" bind:__l="__l"></tm-input><view class="pl-32 mb-24 input-tips text-grey text-size-s data-v-fb39b5ca">填写提示：页面上所显示的名称</view><tm-input bind:input="__e" vue-id="{{('04b598cc-35')+','+('04b598cc-33')}}" borderBottom="{{false}}" adjust-position="{{true}}" round="{{3}}" title="别名" bg-color="grey-lighten-5" placeholder="请输入分类别名" value="{{cateForm.slug}}" data-event-opts="{{[['^input',[['__set_model',['$0','slug','$event',[]],['cateForm']]]]]}}" class="data-v-fb39b5ca" bind:__l="__l"></tm-input><view class="pl-32 mb-24 input-tips text-grey text-size-s data-v-fb39b5ca">填写提示：一般为单个分类页面的标识，最好为英文</view></scroll-view><view class="btn-wrap flex flex-center data-v-fb39b5ca"><tm-button vue-id="{{('04b598cc-36')+','+('04b598cc-33')}}" size="m" theme="bg-gradient-blue-accent" data-event-opts="{{[['^click',[['fnOnCateSave']]]]}}" bind:click="__e" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}">保 存</tm-button><tm-button vue-id="{{('04b598cc-37')+','+('04b598cc-33')}}" size="m" theme="bg-gradient-blue-grey-accent" data-event-opts="{{[['^click',[['fnOnCatePoupHide']]]]}}" bind:click="__e" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}">关 闭</tm-button></view></view></tm-poup><tm-poup vue-id="04b598cc-38" position="bottom" height="45vh" value="{{tagPoupShow}}" data-event-opts="{{[['^change',[['fnOnTagPoupChange']]],['^input',[['__set_model',['','tagPoupShow','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}"><view class="poup-content data-v-fb39b5ca"><view class="poup-head text-align-center text-weight-b text-size-g ma-24 data-v-fb39b5ca">新增标签</view><scroll-view class="poup-body pa-24 pt-0 data-v-fb39b5ca" style="height:28vh;" scroll-y="{{true}}" data-event-opts="{{[['touchmove',[['',['$event']]]]]}}" catchtouchmove="__e"><tm-input bind:input="__e" vue-id="{{('04b598cc-39')+','+('04b598cc-38')}}" required="{{true}}" adjust-position="{{true}}" round="{{3}}" borderBottom="{{false}}" title="标签名称" bg-color="grey-lighten-5" placeholder="请输入标签名称" value="{{tagForm.name}}" data-event-opts="{{[['^input',[['__set_model',['$0','name','$event',[]],['tagForm']]]]]}}" class="data-v-fb39b5ca" bind:__l="__l"></tm-input><view class="pl-32 mb-24 input-tips text-grey text-size-s data-v-fb39b5ca">填写提示：页面上所显示的名称</view><tm-input bind:input="__e" vue-id="{{('04b598cc-40')+','+('04b598cc-38')}}" borderBottom="{{false}}" adjust-position="{{true}}" round="{{3}}" title="标签别名" bg-color="grey-lighten-5" placeholder="请输入分类别名" value="{{tagForm.slug}}" data-event-opts="{{[['^input',[['__set_model',['$0','slug','$event',[]],['tagForm']]]]]}}" class="data-v-fb39b5ca" bind:__l="__l"></tm-input><view class="pl-32 mb-24 input-tips text-grey text-size-s data-v-fb39b5ca">填写提示：一般为单个标签页面的标识，最好为英文</view></scroll-view><view class="btn-wrap flex flex-center data-v-fb39b5ca"><tm-button vue-id="{{('04b598cc-41')+','+('04b598cc-38')}}" size="m" theme="bg-gradient-blue-accent" data-event-opts="{{[['^click',[['fnOnTagSave']]]]}}" bind:click="__e" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}">保 存</tm-button><tm-button vue-id="{{('04b598cc-42')+','+('04b598cc-38')}}" size="m" theme="bg-gradient-blue-grey-accent" data-event-opts="{{[['^click',[['fnOnTagPoupHide']]]]}}" bind:click="__e" class="data-v-fb39b5ca" bind:__l="__l" vue-slots="{{['default']}}">关 闭</tm-button></view></view></tm-poup></view></block></view>