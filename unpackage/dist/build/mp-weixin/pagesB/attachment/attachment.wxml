<view class="app-page flex flex-col data-v-e6093836"><view class="filter-wrap bg-white shadow-3 data-v-e6093836"><tm-search vue-id="5f921bba-1" round="{{24}}" shadow="{{0}}" color="light-blue" insert-color="light-blue" clear="{{true}}" value="{{queryParams.keyword}}" data-event-opts="{{[['^confirm',[['fnOnSearch']]],['^input',[['__set_model',['$0','keyword','$event',[]],['queryParams']]]]]}}" bind:confirm="__e" bind:input="__e" class="data-v-e6093836" bind:__l="__l"></tm-search><tm-drop-down-menu vue-id="5f921bba-2" shadow="{{0}}" color="light-blue" list="{{filterList}}" data-event-opts="{{[['^confirm',[['fnOnConfirm']]]]}}" bind:confirm="__e" class="data-v-e6093836" bind:__l="__l"></tm-drop-down-menu></view><view style="width:100vw;height:184rpx;" class="data-v-e6093836"></view><block wx:if="{{loading!='success'}}"><view class="loading-wrap data-v-e6093836"><tm-skeleton vue-id="5f921bba-3" model="listAvatr" class="data-v-e6093836" bind:__l="__l"></tm-skeleton><tm-skeleton vue-id="5f921bba-4" model="listAvatr" class="data-v-e6093836" bind:__l="__l"></tm-skeleton><tm-skeleton vue-id="5f921bba-5" model="listAvatr" class="data-v-e6093836" bind:__l="__l"></tm-skeleton><tm-skeleton vue-id="5f921bba-6" model="listAvatr" class="data-v-e6093836" bind:__l="__l"></tm-skeleton></view></block><block wx:else><view class="page-content pa-24 flex flex-col data-v-e6093836"><block wx:if="{{$root.g0==0}}"><view class="content-empty flex flex-center data-v-e6093836"><tm-empty vue-id="5f921bba-7" icon="icon-shiliangzhinengduixiang-" label="暂无任何附件" class="data-v-e6093836" bind:__l="__l"></tm-empty></view></block><block wx:else><block class="data-v-e6093836"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><block class="data-v-e6093836"><tm-translate vue-id="{{'5f921bba-8-'+index}}" animation-name="fadeUp" wait="{{(index+1)*50}}" class="data-v-e6093836" bind:__l="__l" vue-slots="{{['default']}}"><view data-event-opts="{{[['tap',[['fnShowDetail',['$0'],[[['dataList','',index]]]]]]]}}" class="attachment-card mb-24 flex bg-white pa-24 round-3 data-v-e6093836" bindtap="__e"><view class="{{['cover','round-3','flex','flex-center','data-v-e6093836',item.m0]}}"><text class="icon iconfont data-v-e6093836">{{item.$orig.suffix}}</text></view><view class="info pl-36 data-v-e6093836"><view class="file-name text-size-m text-weight-b data-v-e6093836">{{item.$orig.name}}</view><view class="file-media mt-12 text-size-s text-grey-darken-1 data-v-e6093836">{{"附件类型："+item.$orig.mediaType}}</view><view class="file-media mt-8 text-size-s text-grey-darken-1 data-v-e6093836">{{"附件大小："+item.$orig.sizeText}}</view><view class="file-path mt-8 text-size-s text-grey-darken-1 data-v-e6093836">{{"上传日期："+item.f0}}</view></view></view></tm-translate></block></block><tm-flotbutton vue-id="5f921bba-9" offset="{{[16,80]}}" color="bg-gradient-light-blue-accent" size="m" icon="icon-angle-up" data-event-opts="{{[['^click',[['fnToTopPage']]]]}}" bind:click="__e" class="data-v-e6093836" bind:__l="__l"></tm-flotbutton><view class="load-text  data-v-e6093836">{{loadMoreText}}</view></block></block><tm-poup bind:input="__e" vue-id="5f921bba-10" position="bottom" height="80vh" value="{{detail.show}}" data-event-opts="{{[['^input',[['__set_model',['$0','show','$event',[]],['detail']]]]]}}" class="data-v-e6093836" bind:__l="__l" vue-slots="{{['default']}}"><view class="poup-content data-v-e6093836"><view class="poup-head text-align-center text-weight-b text-size-g ma-24  data-v-e6093836">附件详情</view><scroll-view class="poup-body pa-24 pt-0 data-v-e6093836" scroll-y="{{true}}" data-event-opts="{{[['touchmove',[['',['$event']]]]]}}" catchtouchmove="__e"><view class="preview-file pl-24 pr-24 data-v-e6093836"><block wx:if="{{$root.g1}}"><tm-images vue-id="{{('5f921bba-11')+','+('5f921bba-10')}}" width="{{700}}" height="{{350}}" round="{{3}}" src="{{$root.g2}}" model="aspectFill" class="data-v-e6093836" bind:__l="__l"></tm-images></block><block wx:else><block wx:if="{{$root.g3}}"><video class="round-3 data-v-e6093836" style="width:100%;height:350rpx;" src="{{$root.g4}}" controls="{{true}}"></video></block><block wx:else><view class="flex flex-center border-a-1 round-3 text-align-center text-grey-darken-1 data-v-e6093836" style="height:280rpx;background-color:#f2f2f2;">该文件暂不支持预览</view></block></block></view><tm-input bind:input="__e" vue-id="{{('5f921bba-12')+','+('5f921bba-10')}}" title="附件名称" clear="{{true}}" placeholder="请输入附件名称..." value="{{detail.form.name}}" data-event-opts="{{[['^input',[['__set_model',['$0','name','$event',[]],['detail.form']]]]]}}" class="data-v-e6093836" bind:__l="__l"></tm-input><tm-input bind:input="__e" vue-id="{{('5f921bba-13')+','+('5f921bba-10')}}" disabled="{{true}}" color="grey" title="附件类型" value="{{detail.form.mediaType}}" data-event-opts="{{[['^input',[['__set_model',['$0','mediaType','$event',[]],['detail.form']]]]]}}" class="data-v-e6093836" bind:__l="__l"></tm-input><tm-input bind:input="__e" vue-id="{{('5f921bba-14')+','+('5f921bba-10')}}" disabled="{{true}}" color="grey" title="附件位置" value="{{detail.form.type}}" data-event-opts="{{[['^input',[['__set_model',['$0','type','$event',[]],['detail.form']]]]]}}" class="data-v-e6093836" bind:__l="__l"></tm-input><tm-input bind:input="__e" vue-id="{{('5f921bba-15')+','+('5f921bba-10')}}" disabled="{{true}}" color="grey" title="附件大小" value="{{detail.form.sizeText}}" data-event-opts="{{[['^input',[['__set_model',['$0','sizeText','$event',[]],['detail.form']]]]]}}" class="data-v-e6093836" bind:__l="__l"></tm-input><tm-input bind:input="__e" vue-id="{{('5f921bba-16')+','+('5f921bba-10')}}" disabled="{{true}}" color="grey" title="上传日期" value="{{detail.form.createTime}}" data-event-opts="{{[['^input',[['__set_model',['$0','createTime','$event',[]],['detail.form']]]]]}}" class="data-v-e6093836" bind:__l="__l"></tm-input><tm-input generic:scoped-slots-default="attachment-tm-input-default" data-vue-generic="scoped" bind:input="__e" vue-id="{{('5f921bba-17')+','+('5f921bba-10')}}" disabled="{{true}}" vertical="{{true}}" borderBottom="{{false}}" input-type="textarea" title="文件地址" color="grey" bg-color="grey-lighten-5" height="{{120}}" value="{{detail.form.path}}" data-event-opts="{{[['^input',[['__set_model',['$0','path','$event',[]],['detail.form']]]]]}}" class="data-v-e6093836" bind:__l="__l" vue-slots="{{['default']}}"></tm-input></scroll-view><view class="btn-wrap flex flex-center data-v-e6093836"><tm-button vue-id="{{('5f921bba-19')+','+('5f921bba-10')}}" size="m" navtie-type="form" theme="bg-gradient-blue-accent" data-event-opts="{{[['^click',[['fnOnUpdate']]]]}}" bind:click="__e" class="data-v-e6093836" bind:__l="__l" vue-slots="{{['default']}}">保存</tm-button><tm-button vue-id="{{('5f921bba-20')+','+('5f921bba-10')}}" size="m" theme="bg-gradient-red-accent" data-event-opts="{{[['^click',[['fnOnDelete']]]]}}" bind:click="__e" class="data-v-e6093836" bind:__l="__l" vue-slots="{{['default']}}">删除</tm-button><tm-button vue-id="{{('5f921bba-21')+','+('5f921bba-10')}}" size="m" theme="bg-gradient-blue-grey-accent" data-event-opts="{{[['^click',[['e1']]]]}}" bind:click="__e" class="data-v-e6093836" bind:__l="__l" vue-slots="{{['default']}}">关闭</tm-button></view></view></tm-poup></view></block><tm-flotbutton vue-id="5f921bba-22" show-text="{{true}}" color="bg-gradient-orange-accent" data-event-opts="{{[['^click',[['fnOnFlotButton']]]]}}" bind:click="__e" class="data-v-e6093836" bind:__l="__l"></tm-flotbutton><tm-action-sheet-menu vue-id="5f921bba-23" title="文件上传操作" actions="{{fileSelectAction.list}}" value="{{fileSelectAction.show}}" data-event-opts="{{[['^change',[['fnOnFileSelectActionChange']]],['^input',[['__set_model',['$0','show','$event',[]],['fileSelectAction']]]]]}}" bind:change="__e" bind:input="__e" class="data-v-e6093836" bind:__l="__l"></tm-action-sheet-menu></view>