(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/category/category"],{"1d82":function(t,n,e){},"1fa8":function(t,n,e){"use strict";e.r(n);var o=e("9f61"),a=e.n(o);for(var i in o)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(i);n["default"]=a.a},"20b4":function(t,n,e){"use strict";e.r(n);var o=e("2b69"),a=e("1fa8");for(var i in a)["default"].indexOf(i)<0&&function(t){e.d(n,t,(function(){return a[t]}))}(i);e("3123");var r=e("f0c5"),l=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"43db8348",null,!1,o["a"],void 0);n["default"]=l.exports},"2b69":function(t,n,e){"use strict";e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return i})),e.d(n,"a",(function(){return o}));var o={articleMinCard:function(){return e.e("components/article-min-card/article-min-card").then(e.bind(null,"c582"))}},a=function(){var t=this.$createElement,n=(this._self._c,"success"==this.loading?this.categoryList.length:null),e="success"==this.loading&&0!=n?this.dataList.length:null,o=this.dataList.length;this.$mp.data=Object.assign({},{$root:{g0:n,g1:e,g2:o}})},i=[]},3123:function(t,n,e){"use strict";var o=e("1d82"),a=e.n(o);a.a},"9f61":function(t,n,e){"use strict";(function(t){var o=e("4ea4");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;o(e("3151"));var a={components:{tmSkeleton:function(){e.e("tm-vuetify/components/tm-skeleton/tm-skeleton").then(function(){return resolve(e("3f1b"))}.bind(null,e)).catch(e.oe)},tmTranslate:function(){e.e("tm-vuetify/components/tm-translate/tm-translate").then(function(){return resolve(e("c684"))}.bind(null,e)).catch(e.oe)},tmFlotbutton:function(){Promise.all([e.e("common/vendor"),e.e("tm-vuetify/components/tm-flotbutton/tm-flotbutton")]).then(function(){return resolve(e("1902"))}.bind(null,e)).catch(e.oe)},tmEmpty:function(){e.e("tm-vuetify/components/tm-empty/tm-empty").then(function(){return resolve(e("947c"))}.bind(null,e)).catch(e.oe)},tmFlowLayout:function(){Promise.all([e.e("common/vendor"),e.e("tm-vuetify/components/tm-flowLayout/tm-flowLayout")]).then(function(){return resolve(e("1967"))}.bind(null,e)).catch(e.oe)},tmSliderNav:function(){Promise.all([e.e("common/vendor"),e.e("tm-vuetify/components/tm-sliderNav/tm-sliderNav")]).then(function(){return resolve(e("29fb"))}.bind(null,e)).catch(e.oe)},ArticleMinCard:function(){e.e("components/article-min-card/article-min-card").then(function(){return resolve(e("c582"))}.bind(null,e)).catch(e.oe)}},data:function(){return{loading:"loading",queryParams:{size:10,page:0,slug:""},categoryList:[],result:null,dataList:[],isLoadMore:!1,loadMoreText:"",scrollTop:0,tempScrollTop:0,scrollTimeout:null,triggered:!1}},onLoad:function(){this.fnSetPageTitle("文章分类"),this.fnGetAllCategory()},onPullDownRefresh:function(){this.queryParams.page=0,this.isLoadMore=!1,this.fnGetData()},onReachBottom:function(n){this.result.hasNext?(this.queryParams.page+=1,this.isLoadMore=!0,this.fnGetData(!1)):t.showToast({icon:"none",title:"没有更多数据了"})},methods:{fnOnCategoryChange:function(t){this.queryParams.slug=this.categoryList[t].slug,this.fnToTopScroll(),this.dataList=[],this.fnGetData()},fnGetAllCategory:function(){var n=this;this.loading="loading",t.showLoading({mask:!0,title:"加载中..."}),this.$httpApi.getCategoryList({more:!0}).then((function(t){n.categoryList=t.data,0!=t.data.length&&(n.queryParams.slug=t.data[0].slug,n.triggered=!1,n.loading="success",n.fnGetData(!0,!1))})).catch((function(t){console.error(t),n.loading="error"})).finally((function(){t.hideLoading(),t.stopPullDownRefresh()}))},fnGetData:function(){var n=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e)this.queryParams.page=0,o&&(this.triggered=!0);else{if(!this.result.hasNext)return t.showToast({icon:"none",title:"没有更多数据了"});this.queryParams.page+=1}this.$httpApi.getCategoryPostList(this.queryParams.slug,this.queryParams).then((function(t){n.result=t.data,n.dataList=e?t.data.content:n.dataList.concat(t.data.content),n.loadMoreText=t.data.hasNext?"上拉加载更多":"呜呜，没有更多数据啦~"})).catch((function(t){n.loadMoreText="加载失败！"})).finally((function(){n.triggered=!1}))},fnToArticleDetail:function(n){t.navigateTo({url:"/pagesA/article-detail/article-detail?articleId="+n.id,animationType:"slide-in-right"})},fnOnScroll:function(t){this.tempScrollTop=t.detail.scrollTop},fnToTopScroll:function(){t.pageScrollTo({scrollTop:0,duration:500}),this.scrollTop=0,this.tempScrollTop=0},fnOnTouchStart:function(){clearTimeout(this.scrollTimeout)},fnOnTouchEnd:function(){var t=this;this.scrollTimeout=setTimeout((function(){t.scrollTop=t.tempScrollTop}),500)}}};n.default=a}).call(this,e("543d")["default"])},d9ac:function(t,n,e){"use strict";(function(t,n){var o=e("4ea4");e("1ea4");o(e("66fd"));var a=o(e("20b4"));t.__webpack_require_UNI_MP_PLUGIN__=e,n(a.default)}).call(this,e("bc2e")["default"],e("543d")["createPage"])}},[["d9ac","common/runtime","common/vendor"]]]);