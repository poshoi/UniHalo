(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabbar/links/links"],{"0565":function(t,n,e){"use strict";e.r(n);var o=e("e45d"),i=e.n(o);for(var l in o)["default"].indexOf(l)<0&&function(t){e.d(n,t,(function(){return o[t]}))}(l);n["default"]=i.a},"0920":function(t,n,e){"use strict";(function(t,n){var o=e("4ea4");e("1ea4");o(e("66fd"));var i=o(e("4f34"));t.__webpack_require_UNI_MP_PLUGIN__=e,n(i.default)}).call(this,e("bc2e")["default"],e("543d")["createPage"])},"0e26":function(t,n,e){"use strict";var o=e("b9eb"),i=e.n(o);i.a},"4f34":function(t,n,e){"use strict";e.r(n);var o=e("bcd7"),i=e("0565");for(var l in i)["default"].indexOf(l)<0&&function(t){e.d(n,t,(function(){return i[t]}))}(l);e("0e26");var a=e("f0c5"),u=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,"48356fd6",null,!1,o["a"],void 0);n["default"]=u.exports},b9eb:function(t,n,e){},bcd7:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return l})),e.d(n,"a",(function(){return o}));var o={cacheImage:function(){return Promise.all([e.e("common/vendor"),e.e("components/cache-image/cache-image")]).then(e.bind(null,"80ba"))}},i=function(){var t=this,n=t.$createElement,e=(t._self._c,"success"==t.loading?t.result.length:null),o="success"==t.loading?t.result.length:null,i="success"==t.loading&&0!=o?t.result.length:null,l="success"==t.loading&&0!=o&&1==i?t.__map(t.result[0].children,(function(n,e){var o=t.__get_orig(n),i=t.globalAppSettings.links.useSimple?null:t.team.children.length;return{$orig:o,g3:i}})):null,a="success"==t.loading&&0!=o&&1!=i?t.__map(t.result,(function(n,e){var o=t.__get_orig(n),i=t.__map(n.children,(function(o,i){var l=t.__get_orig(o),a=t.globalAppSettings.links.useSimple?null:i!=n.children.length-1||e==t.result.length-1;return{$orig:l,g4:a}}));return{$orig:o,l1:i}})):null,u="success"==t.loading?t.caclSiteThumbnail(t.detail.data.url):null;t.$mp.data=Object.assign({},{$root:{g0:e,g1:o,g2:i,l0:l,l2:a,m0:u}})},l=[]},e45d:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=e("2c52"),i={components:{tmSkeleton:function(){e.e("tm-vuetify/components/tm-skeleton/tm-skeleton").then(function(){return resolve(e("3f1b"))}.bind(null,e)).catch(e.oe)},tmTranslate:function(){e.e("tm-vuetify/components/tm-translate/tm-translate").then(function(){return resolve(e("c684"))}.bind(null,e)).catch(e.oe)},tmFlotbutton:function(){Promise.all([e.e("common/vendor"),e.e("tm-vuetify/components/tm-flotbutton/tm-flotbutton")]).then(function(){return resolve(e("1902"))}.bind(null,e)).catch(e.oe)},tmTags:function(){e.e("tm-vuetify/components/tm-tags/tm-tags").then(function(){return resolve(e("0783"))}.bind(null,e)).catch(e.oe)},tmEmpty:function(){e.e("tm-vuetify/components/tm-empty/tm-empty").then(function(){return resolve(e("947c"))}.bind(null,e)).catch(e.oe)},tmImages:function(){Promise.all([e.e("common/vendor"),e.e("tm-vuetify/components/tm-images/tm-images")]).then(function(){return resolve(e("15db"))}.bind(null,e)).catch(e.oe)},tmPoup:function(){e.e("tm-vuetify/components/tm-poup/tm-poup").then(function(){return resolve(e("2b9f"))}.bind(null,e)).catch(e.oe)}},data:function(){return{loading:"loading",queryParams:{size:10,page:0,sort:""},result:[],detail:{show:!1,data:{}},linkTotal:0}},computed:{caclSiteThumbnail:function(t){return function(t){return t?("/"!=t.charAt(t.length-1)&&(t+="/"),"https://image.thum.io/get/width/1000/crop/800/"+t):""}}},onLoad:function(){this.fnSetPageTitle("朋友圈")},created:function(){this.fnGetData()},onPullDownRefresh:function(){this.fnGetData()},methods:{fnRandomColor:function(){var t=(0,o.GetRandomNumberByRange)(0,this.$haloConfig.colors.length-1);return this.$haloConfig.colors[t]},fnGetData:function(){var n=this;this.linkTotal=0,this.loading="loading",t.showLoading({mask:!0,title:"加载中..."}),this.$httpApi.getLinkListByTeam().then((function(t){if(200==t.status){console.log("请求结果："),console.log(t);var e=t.data.map((function(t){var e=t.team||"未分组",o=t.links.map((function(t){return n.linkTotal+=1,t.logo=n.$utils.checkAvatarUrl(t.logo),t}));return{title:e,children:o}}));n.result=e.reverse(),setTimeout((function(){n.loading="success"}),500)}else n.loading="error"})).catch((function(t){console.error(t),n.loading="error"})).finally((function(){setTimeout((function(){t.hideLoading(),t.stopPullDownRefresh()}),500)}))},fnOnLinkEvent:function(t){this.detail.data=t,this.detail.show=!0},fnCopyLink:function(n){t.setClipboardData({data:"".concat(n.name,":").concat(n.url),showToast:!1,success:function(){t.showToast({icon:"none",title:"链接复制成功！"})},fail:function(){t.showToast({icon:"none",title:"复制失败！"})}})}}};n.default=i}).call(this,e("543d")["default"])}},[["0920","common/runtime","common/vendor"]]]);