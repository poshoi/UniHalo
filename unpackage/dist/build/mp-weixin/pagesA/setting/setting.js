(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/setting/setting"],{"175c":function(t,e,n){"use strict";n.r(e);var a=n("7d3b"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"2c38":function(t,e,n){"use strict";(function(t,e){var a=n("4ea4");n("1ea4");a(n("66fd"));var i=a(n("429b"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"36dd":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this.$createElement;this._self._c},i=[]},"429b":function(t,e,n){"use strict";n.r(e);var a=n("36dd"),i=n("175c");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("62dc");var c=n("f0c5"),l=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,"a65d0a34",null,!1,a["a"],void 0);e["default"]=l.exports},"62dc":function(t,e,n){"use strict";var a=n("d298"),i=n.n(a);i.a},"7d3b":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n("9da5"),i={components:{tmButton:function(){n.e("tm-vuetify/components/tm-button/tm-button").then(function(){return resolve(n("9bbf"))}.bind(null,n)).catch(n.oe)},tmForm:function(){Promise.all([n.e("common/vendor"),n.e("tm-vuetify/components/tm-form/tm-form")]).then(function(){return resolve(n("77a7"))}.bind(null,n)).catch(n.oe)},tmPickers:function(){n.e("tm-vuetify/components/tm-pickers/tm-pickers").then(function(){return resolve(n("c426"))}.bind(null,n)).catch(n.oe)},tmInput:function(){n.e("tm-vuetify/components/tm-input/tm-input").then(function(){return resolve(n("7908"))}.bind(null,n)).catch(n.oe)},tmSwitch:function(){n.e("tm-vuetify/components/tm-switch/tm-switch").then(function(){return resolve(n("04fb"))}.bind(null,n)).catch(n.oe)},tmSheet:function(){n.e("tm-vuetify/components/tm-sheet/tm-sheet").then(function(){return resolve(n("d12c"))}.bind(null,n)).catch(n.oe)},tmGroupradio:function(){n.e("tm-vuetify/components/tm-groupradio/tm-groupradio").then(function(){return resolve(n("c22f"))}.bind(null,n)).catch(n.oe)},tmRadio:function(){n.e("tm-vuetify/components/tm-radio/tm-radio").then(function(){return resolve(n("315b"))}.bind(null,n)).catch(n.oe)}},data:function(){return{isBlackTheme:!1,loading:!0,appSettings:{},isSaved:!0,firstLoad:!0,homeLayout:{list:[{name:"一行一列",value:"h_row_col1"},{name:"一行两列",value:"h_row_col2"}],selectDefault:["一行一列"],selectLabel:"一行一列",selectValue:"h_row_col1"},articleCardStyle:{list:[{name:"左图右文",value:"lr_image_text"},{name:"左文右图",value:"lr_text_image"},{name:"上图下文",value:"tb_image_text"},{name:"上文下图",value:"tb_text_image"},{name:"只有文字",value:"only_text"}],selectDefault:["左图右文"],selectLabel:"左图右文",selectValue:"lr_image_text"},dotPositionList:[{name:"右边",value:"right",checked:!0},{name:"下边",value:"bottom",checked:!1}],barrage:{list:[{name:"顶部",value:"rightToLeft"},{name:"左下",value:"leftBottom"}],selectDefault:["顶部"],selectLabel:"顶部",selectValue:"rightToLeft"}}},watch:{appSettings:{deep:!0,handler:function(){this.firstLoad?this.firstLoad=!1:this.isSaved=!1}}},onLoad:function(t){this.fnSetPageTitle("应用设置")},created:function(){var e=this;this.appSettings=Object.assign({},a._DefaultAppSettings,t.$tm.vx.getters().getSettings),this.fnHandleFormatSelect(),t.showLoading({title:"加载中...",mask:!0}),setTimeout((function(){e.loading=!1,t.hideLoading()}),500)},methods:{fnHandleFormatSelect:function(){var t=this.fnFindObjInList(this.homeLayout.list,"value",this.appSettings.layout.home);this.homeLayout.selectDefault=[t.name],this.homeLayout.selectLabel=t.name,this.homeLayout.selectValue=t.value;var e=this.fnFindObjInList(this.articleCardStyle.list,"value",this.appSettings.layout.cardType);this.articleCardStyle.selectDefault=[e.name],this.articleCardStyle.selectLabel=e.name,this.articleCardStyle.selectValue=e.value;var n=this.fnFindObjInList(this.barrage.list,"value",this.appSettings.barrage.type);this.barrage.selectDefault=[n.name],this.barrage.selectLabel=n.name,this.barrage.selectValue=n.value},fnFindObjInList:function(t,e,n){return t.find((function(t){return t[e]==n}))},fnOnBannerDotChange:function(t){var e=t[0];0==e.index&&e.checked&&(this.appSettings.banner.dotPosition="right"),1==e.index&&e.checked&&(this.appSettings.banner.dotPosition="bottom")},fnOnHomeLayoutConfirm:function(t){var e=t[0].data;this.homeLayout.selectDefault=[e.name],this.homeLayout.selectLabel=e.name,this.homeLayout.selectValue=e.value,this.appSettings.layout.home=e.value},fnOnArticleCardStyleConfirm:function(t){var e=t[0].data;this.articleCardStyle.selectDefault=[e.name],this.articleCardStyle.selectLabel=e.name,this.articleCardStyle.selectValue=e.value,this.appSettings.layout.cardType=e.value},fnOnBarrageConfirm:function(t){var e=t[0].data;this.barrage.selectDefault=[e.name],this.barrage.selectLabel=e.name,this.barrage.selectValue=e.value,this.appSettings.barrage.type=e.value},fnOnSave:function(){this.isSaved=!0,this.$tm.vx.commit("setting/setSettings",this.appSettings),t.$tm.toast("保存成功，部分设置在重启后生效！")},fnOnSaveDefault:function(){var e=this;t.$eShowModal({title:"提示",content:"您确定要恢复为默认的设置吗？",showCancel:!0,cancelText:"否",cancelColor:"#999999",confirmText:"是",confirmColor:"#03a9f4"}).then((function(n){e.isSaved=!0,t.$tm.vx.actions("setting/updateDefaultAppSettings"),t.$tm.toast("系统设置已恢复为默认配置，部分设置在重启后生效！")})).catch((function(t){}))},fnOnBack:function(){var e=this;this.isSaved?t.navigateBack():t.$eShowModal({title:"提示",content:"您当前可能有未保存的数据，确定返回吗？",showCancel:!0,cancelText:"否",cancelColor:"#999999",confirmText:"是",confirmColor:"#03a9f4"}).then((function(n){t.navigateBack(),e.isSaved=!0})).catch((function(t){}))}}};e.default=i}).call(this,n("543d")["default"])},d298:function(t,e,n){}},[["2c38","common/runtime","common/vendor"]]]);