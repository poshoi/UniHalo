(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesA/articles/articles"],{"16b7":function(t,e,n){"use strict";n.r(e);var a=n("28ca"),o=n.n(a);for(var i in a)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e["default"]=o.a},"28ca":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a={components:{tmSkeleton:function(){n.e("tm-vuetify/components/tm-skeleton/tm-skeleton").then(function(){return resolve(n("3f1b"))}.bind(null,n)).catch(n.oe)},tmSearch:function(){n.e("tm-vuetify/components/tm-search/tm-search").then(function(){return resolve(n("af77"))}.bind(null,n)).catch(n.oe)},tmTranslate:function(){n.e("tm-vuetify/components/tm-translate/tm-translate").then(function(){return resolve(n("c684"))}.bind(null,n)).catch(n.oe)},tmTabs:function(){Promise.all([n.e("common/vendor"),n.e("tm-vuetify/components/tm-tabs/tm-tabs")]).then(function(){return resolve(n("61fe"))}.bind(null,n)).catch(n.oe)},tmFlotbutton:function(){Promise.all([n.e("common/vendor"),n.e("tm-vuetify/components/tm-flotbutton/tm-flotbutton")]).then(function(){return resolve(n("1902"))}.bind(null,n)).catch(n.oe)},tmEmpty:function(){n.e("tm-vuetify/components/tm-empty/tm-empty").then(function(){return resolve(n("947c"))}.bind(null,n)).catch(n.oe)}},data:function(){return{isBlackTheme:!1,loading:"loading",tab:{activeIndex:0,list:["全部","最新文章","热门文章","最近更新","最多点赞"]},queryParams:{size:10,page:0,sort:"topPriority,createTime,desc",keyword:""},cache:{dataList:[],total:0},isLoadMore:!1,loadMoreText:"加载中...",result:{},dataList:[]}},onLoad:function(){this.fnSetPageTitle("文章列表")},created:function(){this.fnGetData()},onPullDownRefresh:function(){this.isLoadMore=!1,this.queryParams.page=0,this.fnGetData()},onReachBottom:function(e){this.result.hasNext?(this.queryParams.page+=1,this.isLoadMore=!0,this.fnGetData()):t.showToast({icon:"none",title:"没有更多数据了"})},methods:{fnOnTabChange:function(t){this.dataList=[];this.queryParams.sort={0:"",1:"topPriority,createTime,desc",2:"topPriority,visits,desc",3:"topPriority,updateTime,desc",4:"topPriority,likes,desc"}[t],this.queryParams.page=0,this.dataList=[],this.fnToTopPage(),this.fnGetData()},fnOnSearch:function(){this.queryParams.page=0,this.isLoadMore=!1,this.fnGetData()},fnGetData:function(){var e=this;t.showLoading({mask:!0,title:"加载中..."}),this.isLoadMore||(this.loading="loading"),this.loadMoreText="加载中...",this.$httpApi.getPostList(this.queryParams).then((function(t){console.log("请求结果："),console.log(t),e.loading="success",e.loadMoreText=t.data.hasNext?"上拉加载更多":"呜呜，没有更多数据啦~",e.result=t.data,e.isLoadMore?e.dataList=e.dataList.concat(t.data.content):e.dataList=t.data.content})).catch((function(t){console.error(t),e.loading="error",e.loadMoreText="加载失败，请下拉刷新！"})).finally((function(){setTimeout((function(){t.hideLoading(),t.stopPullDownRefresh()}),800)}))},fnToArticleDetail:function(e){t.navigateTo({url:"/pagesA/article-detail/article-detail?articleId="+e.id,animationType:"slide-in-right"})}}};e.default=a}).call(this,n("543d")["default"])},"5fc8":function(t,e,n){},7403:function(t,e,n){"use strict";n.r(e);var a=n("dc75"),o=n("16b7");for(var i in o)["default"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(i);n("86ba");var c=n("f0c5"),s=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,"654e5900",null,!1,a["a"],void 0);e["default"]=s.exports},"86ba":function(t,e,n){"use strict";var a=n("5fc8"),o=n.n(a);o.a},c125:function(t,e,n){"use strict";(function(t,e){var a=n("4ea4");n("1ea4");a(n("66fd"));var o=a(n("7403"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},dc75:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var a={articleCard:function(){return n.e("components/article-card/article-card").then(n.bind(null,"dc9b"))}},o=function(){var t=this.$createElement,e=(this._self._c,"success"==this.loading?this.dataList.length:null);this.$mp.data=Object.assign({},{$root:{g0:e}})},i=[]}},[["c125","common/runtime","common/vendor"]]]);