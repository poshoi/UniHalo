<tm-poup vue-id="7f56eeb4-1" position="bottom" height="auto" value="{{show}}" data-event-opts="{{[['^change',[['fnClose']]],['^input',[['__set_model',['','show','$event',[]]]]]]}}" bind:change="__e" bind:input="__e" class="data-v-28e8b9c4" bind:__l="__l" vue-slots="{{['default']}}"><view class="poup-head pa-24 text-align-center text-weight-b  data-v-28e8b9c4">{{title}}</view><view class="poup-body pa-24 pt-0 pb-0 data-v-28e8b9c4"><block wx:if="{{loading!='success'}}"><view class="loading-wrap flex flex-center data-v-28e8b9c4"><block wx:if="{{loading=='loading'}}"><view class="loading data-v-28e8b9c4">加载中...</view></block><block wx:else><view data-event-opts="{{[['tap',[['fnGetData']]]]}}" class="error data-v-28e8b9c4" bindtap="__e">加载失败，点击刷新！</view></block></view></block><block wx:else><block class="data-v-28e8b9c4"><block wx:if="{{total==0}}"><view class="empty data-v-28e8b9c4">无附件</view></block><block wx:else><scroll-view class="poup-content data-v-28e8b9c4" enable-flex="{{true}}" scroll-y="{{true}}" data-event-opts="{{[['touchmove',[['',['$event']]]]]}}" catchtouchmove="__e"><view class="card-content data-v-28e8b9c4"><block wx:for="{{dataList}}" wx:for-item="file" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['fnOnSelect',['$0',index],[[['dataList','',index]]]]]]]}}" class="card pa-12 data-v-28e8b9c4" bindtap="__e"><view class="{{['card-inner','round-3','data-v-28e8b9c4',(selectIndex==index)?'is-select':'']}}"><block wx:if="{{file.isImage}}"><cache-image class="cover data-v-28e8b9c4" vue-id="{{('7f56eeb4-2-'+index)+','+('7f56eeb4-1')}}" height="160rpx" url="{{file.thumbPath}}" fileMd5="{{file.thumbPath}}" mode="aspectFill" bind:__l="__l"></cache-image></block><block wx:else><view class="cover flex pl-46 pr-46 flex-center bg-gradient-blue-grey-accent text-align-center text-size-m data-v-28e8b9c4">{{file.mediaType}}</view></block><view class="name text-overflow text-size-m pa-12 data-v-28e8b9c4">{{file.name}}</view></view></view></block></view></scroll-view></block></block></block></view><view class="poup-foot pa-30 pb-12 pt-0 data-v-28e8b9c4"><block wx:if="{{total>queryParams.size}}"><view class="mt-36 pl-24 pr-24 data-v-28e8b9c4"><tm-pagination vue-id="{{('7f56eeb4-3')+','+('7f56eeb4-1')}}" color="bg-gradient-blue-accent" page="{{queryParams.page}}" total="{{total}}" totalVisible="{{5}}" data-event-opts="{{[['^updatePage',[['__set_sync',['$0','page','$event'],['queryParams']]]],['^change',[['fnGetPagingData']]]]}}" bind:updatePage="__e" bind:change="__e" class="data-v-28e8b9c4" bind:__l="__l"></tm-pagination></view></block><view class=" flex flex-center mt-12 data-v-28e8b9c4"><tm-button vue-id="{{('7f56eeb4-4')+','+('7f56eeb4-1')}}" size="m" theme="bg-gradient-blue-accent" data-event-opts="{{[['^click',[['fnSava']]]]}}" bind:click="__e" class="data-v-28e8b9c4" bind:__l="__l" vue-slots="{{['default']}}">确定选用</tm-button><tm-button vue-id="{{('7f56eeb4-5')+','+('7f56eeb4-1')}}" size="m" theme="bg-gradient-orange-accent" data-event-opts="{{[['^click',[['fnUpload']]]]}}" bind:click="__e" class="data-v-28e8b9c4" bind:__l="__l" vue-slots="{{['default']}}">上传</tm-button><tm-button vue-id="{{('7f56eeb4-6')+','+('7f56eeb4-1')}}" size="m" theme="bg-gradient-blue-grey-accent" data-event-opts="{{[['^click',[['fnClose',[false]]]]]}}" bind:click="__e" class="data-v-28e8b9c4" bind:__l="__l" vue-slots="{{['default']}}">关 闭</tm-button></view></view></tm-poup>